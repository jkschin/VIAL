<!DOCTYPE html>
<html>
  <head>
    <title>Bootstrap 101 Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
  <input type="file" id="file-input" />
  <h3>Contents of the file:</h3>
  <pre id="file-content"></pre>
  <table table-layout:'fixed'>
  <tbody id="images">
  </tbody>
  </table>
  <script>
    function readSingleFile(e) {
      var file = e.target.files[0];
      if (!file) {
        return;
      }
      var reader = new FileReader();
      reader.onload = function(e) {
        var contents = e.target.result;
        var content_array = contents.split('\n');
        displayContents(content_array);
    };
    reader.readAsText(file);
    }

    function displayContents(contents) {
      var element = document.getElementById('images');
      for (var i=0;i<contents.length;i++) {
        var tr = document.createElement('TR');
        var p = document.createElement('P');
        var image = document.createElement('IMG');
        tr.appendChild(image);
        tr.appendChild(p);
        var str = contents[i].split(" ");
        image.src = "images/".concat(str[0]);
        p.innerHTML = str[1];
        element.appendChild(tr);
      }
    }
    document.getElementById('file-input').addEventListener('change', readSingleFile, false);
  </script>
  </body>
</html>